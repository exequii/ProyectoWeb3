

@{
    ViewData["Title"] = "ChatBot";
}

<div class="w-100 d-flex justify-content-start align-items-center shadow" id="fondo-registro">
    <div class="d-flex flex-column justify-content-end p-3 w-50 bg-white border-1 rounded h-75" style="margin-left:5%;">
@*        <div id="webchat" role="main"></div>
        <script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>
        <script>
            window.WebChat.renderWebChat(
                {
                    directLine: window.WebChat.createDirectLine({
                        token: 'q40HFVIYOMI.oqHLlu1Ei956sryQXiSfmY10ANbet5JgHQQKctyy1hw'
                    }),
                    userID: 'q40HFVIYOMI.Q-95I73mUcIuj4zj1KjCg_iN0cwJ2baa8OZ25J3ysOY'
                },
                document.getElementById('webchat')
            );
        </script>*@


        <div id="webchat" role="main"></div>
        <script crossorigin="anonymous" src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>
        <script>
            (async function () {
                // In this demo, we are using Direct Line token from MockBot.
                // Your client code must provide either a secret or a token to talk to your bot.
                // Tokens are more secure. To learn about the differences between secrets and tokens
                // and to understand the risks associated with using secrets, visit https://docs.microsoft.com/en-us/azure/bot-service/rest-api/bot-framework-rest-direct-line-3-0-authentication?view=azure-bot-service-4.0

                const res = await fetch('https://webchat-mockbot.azurewebsites.net/directline/token', { method: 'POST' });
                const { token } = await res.json();

                window.WebChat.renderWebChat(
                    {
                        directLine: window.WebChat.createDirectLine({ token })
                    },
                    document.getElementById('webchat')
                );

                document.querySelector('#webchat > *').focus();
            })().catch(err => console.error(err));
        </script>
    </div>
</div>

<style>
    #fondo-registro{
        height:91vh;
        background-image: url("../images/fondo-index.jpg");
        background-size: cover;
        background-position: 50% 50%;
    }
   #webchat{
        height: 90% !important;
    }


</style>
